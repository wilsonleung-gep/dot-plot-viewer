<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dot Plot Viewer</title>

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
          integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47"
          crossorigin="anonymous">

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
          crossorigin="anonymous">


    <link rel="stylesheet" href="css/dotplotviewer-min.css">
    <script src="js/modernizr-canvas-webworkers-file_api.js"></script>
  </head>
  <body>
    <noscript>
      <div class="message error">
        <i class="fa fa-exclamation-circle fa pull-left"></i>
        <span>This dot plot viewer requires JavaScript. Please follow the instructions on the
          <a href="https://www.enable-javascript.com/">enable JavaScript web site</a> to
          enable JavaScript in your web browser.
        </span>
      </div>
    </noscript>

    <div id="hd" class="page-header">
      <div class="pure-g">
        <div class="pure-u-1-2">
          <div class="title">Dot Plot Viewer</div>
        </div>
        <div class="pure-u-1-2">
          <div class="release_info">Prototype Release</div>
        </div>
      </div>
    </div>

    <div id="bd" class="page-body">
      <div class="pure-g">
        <div class="pure-u-1-3">
          <form class="pure-form pure-form-stacked simple-form" id="uploadForm">
            <fieldset id="sequences-fieldset">
              <legend>Sequences to Compare</legend>
              <label for="queryFile">Query Sequence File:</label>
              <input type="file" id="queryFile" name="queryFile">

              <label for="subjectFile">Subject Sequence File:</label>
              <input type="file" id="subjectFile" name="subjectFile">
            </fieldset>

            <fieldset id="config-fieldset">
              <legend>Dot Plot Configuration</legend>
              
              <label for="wordSize">Word Size:</label>
              <input id="wordSize" name="wordSize" type="number" min="2" step="1" value="3">              
              <i class="fa pull-left fa-info-circle"></i>
              <span class="hint">Use a smaller word size to increase the sensitivity of the dot plot.</span>
              
              <label for="threshold">Neighborhood:</label>
              <input id="threshold" name="threshold" type="number" min="0" step="1" value="11">
              <i class="fa pull-left fa-info-circle"></i>
              <span class="hint">Show word matches with this score or greater.</span>

              <label for="matrix">Scoring Matrix:</label>
              <select id="matrix" name="matrix">
                <option value="IDENTITY">IDENTITY</option>
                <optgroup label="BLOSUM">
                  <option value="BLOSUM90">BLOSUM90</option>
                  <option value="BLOSUM80">BLOSUM80</option>
                  <option selected="selected" value="BLOSUM62">BLOSUM62</option>
                  <option value="BLOSUM50">BLOSUM50</option>
                  <option value="BLOSUM45">BLOSUM45</option>
                </optgroup>
                <optgroup label="VTML">                
                  <option value="VTML10">VTML10</option>
                  <option value="VTML20">VTML20</option>
                  <option value="VTML40">VTML40</option>
                  <option value="VTML80">VTML80</option>
                  <option value="VTML120">VTML120</option>
                  <option value="VTML160">VTML160</option>
                  <option value="VTML200">VTML200</option>
                </optgroup>
                <optgroup label="PAM">
                  <option value="PAM30">PAM30</option>
                  <option value="PAM70">PAM70</option>
                  <option value="PAM120">PAM120</option>
                  <option value="PAM250">PAM250</option>
                </optgroup>
              </select>
              <i class="fa pull-left fa-info-circle"></i>
              <span class="hint"><a href="https://pubmed.ncbi.nlm.nih.gov/24509512/">Scoring system</a> for aligned amino acids.</span>
            </fieldset>
            <fieldset id="colorBoundaries-fieldset">
              <legend>Color Boundaries (optional)</legend>
              <label for="queryCoords">Query Color Boundaries:</label>
              <textarea id="queryCoords" name="queryCoords" cols=50 placeholder="Example: 100, 200, 300"></textarea>
              <i class="fa pull-left fa-info-circle"></i>
              <span class="hint">Comma-delimited list of query coordinates (<i>e.g.</i>, exon boundaries) where the background color changes.</span>

              <label for="subjectCoords">Subject Color Boundaries:</label>
              <textarea id="subjectCoords" name="subjectCoords" cols=50 placeholder="Example: 100, 200, 300"></textarea>
              <i class="fa pull-left fa-info-circle"></i>
              <span class="hint">Comma-delimited list of subject coordinates (<i>e.g.</i>, exon boundaries) where the background color changes.</span>
            </fieldset>
            
            <fieldset id="submit-toolbar">
              <button type="submit" class="pure-button pure-button-primary">Create Dot Plot</button>
              <button type="reset" class="pure-button">Reset Form</button>
            </fieldset>
          </form>

          <div id="messagePanel" class="message error hidden">
            <i id="messagePanel-icon" class="fa fa-2x pull-left"></i>
            <span id="messagePanel-message"></span>
          </div>
        </div>

        <div class="pure-u-2-3">
          <canvas id="dotplot" class="hidden">
            Please use a web browser that supports
            <a href="https://caniuse.com/canvas">canvas</a>
          </canvas>
        </div>
      </div>
    </div>

    <div id='ft' class="page-footer">
      | <a href="https://thegep.org">GEP Main Page</a> |

    </div>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="js/dotplotviewer-min.js"></script>
  </body>
</html>
